@switch (col().type) {
  @case ("text") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >{{ col().header }}</label>

        <input
          pInputText
          [id]="col().field"
          [(ngModel)]="currentItem()[col().field]"
          [type]="'text'"
          required
          [disabled]="!isEditable() || !isInsertable()"
        />

        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().field }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }
  @case ("number") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >{{ col().header }}</label>

        <p-input-number
          [id]="col().field"
          [(ngModel)]="currentItem()[col().field]"
          required
          [disabled]="!isEditable() || !isInsertable()"
        />

        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().field }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }

  @case ("currency") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >{{ col().header }}</label>

        <p-input-number
          [id]="col().field"
          [(ngModel)]="currentItem()[col().field]"
          mode="decimal"
          prefix="R$ "
          locale="pt-BR"
          [useGrouping]="true"
          [minFractionDigits]="2"
          [maxFractionDigits]="2"
          [allowEmpty]="true"
          placeholder="R$ 0,00"
          required
          [disabled]="!isEditable() || !isInsertable()"
        />


        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().field }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }

  @case ("datetime") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >{{ col().header }}</label>

        <p-datepicker
          inputId="calendar-24h"
          [(ngModel)]="currentItem()[col().field]"
          [showTime]="true"
          [hourFormat]="'24'"
          [showButtonBar]="true"
          appendTo="body"
          dateFormat="dd/mm/yy"
          [disabled]="!isEditable() || !isInsertable()"
        ></p-datepicker>

        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().field }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }
  @case ("date") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >{{ col().header }}</label>

        <p-datepicker
          inputId="calendar-24h"
          [(ngModel)]="currentItem()[col().field]"
          [showButtonBar]="true"
          appendTo="body"
          dateFormat="dd/mm/yy"
          [disabled]="!isEditable() || !isInsertable()"
        ></p-datepicker>

        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().field }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }
  @case ("select") {
    <ng-container>
      <div class="mt-2">
        <label
          [for]="col().header"
          class="block font-bold mb-2"
        >
          {{ col().header }}
        </label>

        <p-select
          [options]="col().options"
          [(ngModel)]="currentItem()[col().field]"
          optionLabel="label"
          optionValue="value"
          placeholder="Selecione..."
          class="w-full md:w-56"
          appendTo="body"
          [disabled]="!isEditable() || !isInsertable()"
        >
          <ng-template #selectedItem let-selectedOption>
            @if (selectedOption) {
              <div class="flex items-center gap-2">
                <div>{{ selectedOption.label }}</div>
              </div>
            }
          </ng-template>

          <ng-template let-option #item>
            <div class="flex items-center gap-2">
              <div>{{ option.label }}</div>
            </div>
          </ng-template>
        </p-select>

        @if (submitted() && !currentItem()[col().field]) {
          <small class="text-red-500">
            {{ col().header }} é necessário.
          </small>
        }
      </div>
    </ng-container>
  }
}


